Fifth pull request:
- Added a few unit tests to test functionality of flattening
- This is important for when we have multidimension data
